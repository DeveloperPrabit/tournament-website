<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset="utf-8">
  <meta name="author" content="Akshat">
  <title>REGISTER & PAY</title>
  <link rel="icon" href="Images/com.chislov.pubgquest.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="reg.css" type="text/css">
  <link rel="stylesheet" href="bootstrap.css" type="text/css">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="bootstrap.min.css" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
  <header>
    GAMERS DON'T DIE, <i style="color:#ff1c07;font-family:'Chiller','Bradley Hand ITC','Curlz MT';font-size:100%;font-weight:400;">They Respawn!</i>
  </header>
  <br><br>
  <div class="jumbotron yes" id="formContainer">
    <div class="container">
      <form id="formall" action="https://formspree.io/f/mnnqaear" method="POST">
        <fieldset>
          <input name="name" type="text" id="name" class="form-details" placeholder="Gaming Name" required><br><br>
          <input name="email" type="email" id="mail" class="form-details" placeholder="Email-id" required><br><br>
          <input name="number" type="tel" id="numb" class="form-details" placeholder="Esewa Number" required>
          <hr>
          <input type="submit" value="REGISTER" class="btn btn-warning">
          <a href="payment.html"><button type="button" class="btn btn-warning" style="display:inline-block!important;">PAY</button></a>
        </fieldset>
      </form>
    </div>
  </div>
  <div class="regs">
    <h4 style="color: #ffc107;">A max of <b style="color:#ff1c07;">15 minutes</b> will be given to join the room before game starts.</h4>
  </div>

  <div id="successMessage" style="display:none; text-align:center; color: #1ec5f9;">
    <h2>Thanks!</h2>
    <p>The form was submitted successfully.</p>
    <a href="index.html" class="btn btn-warning">Go back</a>
  </div>

  <script>
    document.getElementById('formall').onsubmit = function(event) {
      event.preventDefault(); // Prevent the default form submission

      const formData = new FormData(this);
      fetch(this.action, {
        method: 'POST',
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      }).then(response => {
        if (response.ok) {
          // Hide the form and show success message
          document.getElementById('formContainer').style.display = 'none';
          document.getElementById('successMessage').style.display = 'block';
        } else {
          alert('There was a problem with your submission. Please try again.');
        }
      }).catch(error => {
        alert('There was a problem with your submission. Please try again.');
      });
    };
  </script>
</body>
</html>
